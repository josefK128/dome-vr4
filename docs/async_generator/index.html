<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <base href=""> <!-- all urls relative to base href='./dist/'> -->
    <title>
      async-generator
    </title>
    <!--<link href="./index.css" rel="stylesheet"> - same as below -->
    <style>
      body { margin: 0;
             padding: 0;
             font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 
               'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 
               'Droid Sans', 'Helvetica Neue', sans-serif;
               -webkit-font-smoothing: antialiased;
               -moz-osx-font-smoothing: grayscale;
      }
      canvas { width: 100%; height: 100% }
      code {
        font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
          monospace;
      }    
    </style>
  </head>



  <body>
    <!-- NOTE:canvas is styled exactly as Singularity.css -->
    <canvas id='webgl' style='width:100vw; height:100vh; background-color:black; position:absolute; left:0px; top:0px;'/>


    <script type='module'> 

        async function* run() {
          await new Promise(resolve => setTimeout(resolve, 100));
          yield 'Hello';
          console.log('World');
          yield 'Hello';
          console.log('World');
        }
        
        const asyncIterator = run();
        
        // Prints "Hello\nWorld"
        (async () => {
          for await (const val of asyncIterator) {
            console.log(val); // Prints "Hello"
          }
        })();

    </script>
  </body>
</html>
